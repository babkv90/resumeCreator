<!-- Main Dashboard Container -->
<nav class="bg-white border-gray-200 py-2.5 dark:bg-gray-900 w-full convex-nav">
    <div class="flex flex-wrap items-center justify-between max-w-screen-xl px-4 mx-auto">
        <div class="flex items-center lg:order-2">
            <button (click)="toggleMenu()" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false">
                <span class="sr-only">Toggle menu</span>
                <fa-icon [icon]="isMenuOpen ? faTimes : faBars" class="w-6 h-6"></fa-icon>
            </button>
        </div>
        <div [class.hidden]="!isMenuOpen" class="items-center justify-between w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2">
            <ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0">
                <li>
                    <a class="flex items-center py-2 pl-3 pr-4 text-white bg-purple-700 rounded lg:bg-transparent lg:text-purple-700 lg:p-0 dark:text-white nav-item" aria-current="page">
                        <fa-icon [icon]="faHome" class="mr-2"></fa-icon>
                        Home
                    </a>
                </li>
                <li>
                    <a (click)="navigateToBlogs()" class="flex items-center py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 nav-item">
                        <fa-icon [icon]="faBlog" class="mr-2"></fa-icon>
                        Blogs
                    </a>
                </li>
                <li>
                    <a (click)="navigateToContacts()" class="flex items-center py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 nav-item">
                        <fa-icon [icon]="faEnvelope" class="mr-2"></fa-icon>
                        Contact
                    </a>
                </li>
                <li>
                    <a (click)="navigateToAbooutMe()" class="flex items-center py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 nav-item">
                        <fa-icon [icon]="faInfoCircle" class="mr-2"></fa-icon>
                        About Me
                    </a>
                </li>
                <li>
                    <a (click)="navigateToLogin()" class="flex items-center py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700 nav-item">
                        <fa-icon [icon]="faSignInAlt" class="mr-2"></fa-icon>
                        Login
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="min-h-screen bg-gray-50" style="padding-top: 75px;">
    <!-- Sidebar -->
    <aside class="fixed left-0 top-0 h-screen w-64 bg-white shadow-lg z-20 transform transition-transform duration-300" [class.translate-x-0]="isMenuOpen" [class.-translate-x-full]="!isMenuOpen">
        <div class="p-6">
            <div class="flex items-center space-x-4">
                <img [src]="userAvatar" alt="User avatar" class="w-10 h-10 rounded-full">
                <div>
                    <h2 class="text-sm font-semibold">{{userName}}</h2>
                    <p class="text-xs text-gray-500">{{userEmail}}</p>
                </div>
            </div>
        </div>

        <nav class="mt-6">
            <a class="flex items-center px-6 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 cursor-pointer">
                <fa-icon [icon]="faFileAlt" class="w-5 h-5 mr-3"></fa-icon>
                My Resumes
            </a>
            <a class="flex items-center px-6 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 cursor-pointer">
                <fa-icon [icon]="faBriefcase" class="w-5 h-5 mr-3"></fa-icon>
                Job Applications
            </a>
            <a class="flex items-center px-6 py-3 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 cursor-pointer">
                <fa-icon [icon]="faImages" class="w-5 h-5 mr-3"></fa-icon>
                Templates
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="ml-0 lg:ml-64 min-h-screen">
        <!-- Top Navigation -->
        <nav class="bg-white shadow-sm sticky top-0 z-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <button (click)="toggleMenu()" class="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100">
                            <fa-icon [icon]="isMenuOpen ? faTimes : faBars" class="h-6 w-6"></fa-icon>
                        </button>
                        <div class="ml-4">
                            <h1 class="text-xl font-semibold">Dashboard</h1>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <button class="p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-full">
                            <fa-icon [icon]="faBell" class="h-6 w-6"></fa-icon>
                        </button>
                        <button class="p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-full">
                            <fa-icon [icon]="faCog" class="h-6 w-6"></fa-icon>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Dashboard Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Total Applications</p>
                            <h3 class="text-2xl font-bold mt-1">{{dashboardStats.totalApplications}}</h3>
                        </div>
                        <div class="p-3 bg-blue-50 rounded-lg">
                            <fa-icon [icon]="faBriefcase" class="h-6 w-6 text-blue-600"></fa-icon>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Interview Invites</p>
                            <h3 class="text-2xl font-bold mt-1">{{dashboardStats.interviewInvites}}</h3>
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg">
                            <fa-icon [icon]="faChartLine" class="h-6 w-6 text-green-600"></fa-icon>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Saved Jobs</p>
                            <h3 class="text-2xl font-bold mt-1">{{dashboardStats.savedJobs}}</h3>
                        </div>
                        <div class="p-3 bg-purple-50 rounded-lg">
                            <fa-icon [icon]="faFileAlt" class="h-6 w-6 text-purple-600"></fa-icon>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Profile Views</p>
                            <h3 class="text-2xl font-bold mt-1">{{dashboardStats.profileViews}}</h3>
                        </div>
                        <div class="p-3 bg-yellow-50 rounded-lg">
                            <fa-icon [icon]="faUser" class="h-6 w-6 text-yellow-600"></fa-icon>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-wrap gap-4 mb-8" style="gap: 15px ;padding: 10px;">
                <button (click)="createNewResume()" class="flex items-center px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors" style="background: indigo;padding: 10px;">
                    <fa-icon [icon]="faPlusCircle" class="h-5 w-5 mr-2"></fa-icon>
                    Create New Resume
                </button>
                
                <button (click)="importResume()" class="flex items-center px-6 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200" style="padding: 15px;">
                    <fa-icon [icon]="faCloudUpload" class="h-5 w-5 mr-2"></fa-icon>
                    Import Resume
                </button>
            </div>

            <!-- Recent Resumes and Job Recommendations -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Recent Resumes -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-200">
                            <h2 class="text-lg font-semibold">Recent Resumes</h2>
                        </div>
                        <div class="divide-y divide-gray-200">
                            <div *ngFor="let resume of resumes" class="p-6 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1 min-w-0">
                                        <h3 class="text-sm font-medium text-gray-900">{{resume.title}}</h3>
                                        <p class="mt-1 text-sm text-gray-500">
                                            Template: {{resume.template}} | Score: {{resume.score}}%
                                        </p>
                                        <p class="mt-1 text-xs text-gray-400">
                                            Last updated: {{resume.updatedAt}}
                                        </p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button (click)="downloadResume(resume.id)" class="p-2 text-gray-400 hover:text-indigo-600 rounded hover:bg-gray-100">
                                            <fa-icon [icon]="faDownload" class="h-5 w-5"></fa-icon>
                                        </button>
                                        <button (click)="duplicateResume(resume.id)" class="p-2 text-gray-400 hover:text-indigo-600 rounded hover:bg-gray-100">
                                            <fa-icon [icon]="faCopy" class="h-5 w-5"></fa-icon>
                                        </button>
                                        <button (click)="deleteResume(resume.id)" class="p-2 text-gray-400 hover:text-red-600 rounded hover:bg-gray-100">
                                            <fa-icon [icon]="faTrash" class="h-5 w-5"></fa-icon>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Recommendations -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-200">
                            <h2 class="text-lg font-semibold">Recommended Jobs</h2>
                        </div>
                        <div class="divide-y divide-gray-200">
                            <div *ngFor="let job of jobRecommendations" class="p-6 hover:bg-gray-50 transition-colors cursor-pointer">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1 min-w-0">
                                        <h3 class="text-sm font-medium text-gray-900">{{job.title}}</h3>
                                        <p class="mt-1 text-sm text-gray-500">
                                            {{job.company}} | {{job.location}}
                                        </p>
                                        <p class="mt-1 text-sm text-gray-500">
                                            {{job.salary}}
                                        </p>
                                    </div>
                                    <div class="ml-4">
                                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                            {{job.matchScore}}% Match
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>